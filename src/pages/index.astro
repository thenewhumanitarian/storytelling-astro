---
import Layout from '../layouts/Layout.astro'
import StoryGrid from '../components/StoryGrid.astro'
import stories from '../data/stories.json'

function shuffleArray(array) {
	for (let i = array.length - 1; i > 0; i--) {
		// Generate a random index
		const j = Math.floor(Math.random() * (i + 1))

		// Swap elements at indices i and j
		;[array[i], array[j]] = [array[j], array[i]]
	}
}
// Todo: Can this be done "once" per session perhaps?
shuffleArray(stories)
---

<Layout dark title='The Yemen Listening Project' header={true} footer={false} button='filter'>
	<StoryGrid stories={stories} />
</Layout>

<style>
	body {
		background: black;
	}
	#filter-button {
		z-index: 9999;
	}
</style>